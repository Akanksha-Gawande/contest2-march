<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./style.css" />
    <title>Document</title>
  </head>
  <body>
    <form id="signUpform">
      <label for="">Email</label><br />
      <input
        type="email"
        id="email"
        name="email"
        placeholder="Example@email.com"
      /><br />
      <span id="emailError" class="error"></span><br>
      <label for="password">Password</label><br />
      <input
        type="password"
        id="password"
        name="password"
        placeholder="Your Password"
      /><br />
      <span id="passwordError" class="error"></span><br>
      <input id="sub" type="submit" value="submit" />
    </form>

    <script>
      const emailInput = document.querySelector("#email");
      const passwordInput = document.querySelector("#password");
      const emailError = document.getElementById("emailError");
      const passwordError = document.getElementById("passwordError");
      const form = document.getElementById("signUpform");

      emailInput.addEventListener("input", validatEmail);
      passwordInput.addEventListener("input", validatPassword);
      form.addEventListener("submit", validatSignUp);

      function validatEmail() {
        const email = emailInput.value;
        if (email.length < 3 || !email.includes("@") || !email.includes(".")) {
          emailError.textContent =
            "Make sure email is more than 3 characters and has @ and a .";
        } else {
          emailError.textContent = "";
          emailError.classList.remove("error");
          emailError.classList.add("success");
          //emailError.textContent = "All good to go!";
        }
      }

      function validatPassword() {
        const password = passwordInput.value;
        if (password.length < 8) {
          passwordError.textContent ="Make sure password is more than 8 characters.";
          passwordError.style.color = "red"
        } else {
          passwordError.textContent = "";
          passwordError.classList.remove("error");
          passwordError.classList.add("success");
          passwordError.textContent = "All good to go!";
          passwordError.style.color = "green"
        }
      }

      function validatSignUp(event) {
        event.preventDefault();
        if (
         // emailError.textContent === "All good to go!" &&
          passwordError.textContent === "All good to go!"
        ) {
          const conformation = confirm("Are you sure you want to signup?");
          if (conformation) {
            alert("Successful signup!");
          } else {
            emailInput.value = "";
            passwordInput.value = "";
            emailError.textContent = "";
            passwordError.textContent = "";
          }
        }
      }
    </script>
  </body>
</html>
